{"ast":null,"code":"\"use strict\";\n/**\r\n * Copyright (c) Microsoft Corporation\r\n *  All Rights Reserved\r\n *  MIT License\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the 'Software'), to deal in the Software\r\n * without restriction, including without limitation the rights to use, copy, modify,\r\n * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to the following\r\n * conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS\r\n * OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT\r\n * OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Utils_1 = require(\"./Utils\");\n\nvar LogLevel;\n\n(function (LogLevel) {\n  LogLevel[LogLevel[\"Error\"] = 0] = \"Error\";\n  LogLevel[LogLevel[\"Warning\"] = 1] = \"Warning\";\n  LogLevel[LogLevel[\"Info\"] = 2] = \"Info\";\n  LogLevel[LogLevel[\"Verbose\"] = 3] = \"Verbose\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\n\nvar Logger =\n/** @class */\nfunction () {\n  function Logger(localCallback, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    /*\r\n     * @hidden\r\n     */\n\n\n    this._level = LogLevel.Info;\n    var _a = options.correlationId,\n        correlationId = _a === void 0 ? \"\" : _a,\n        _b = options.level,\n        level = _b === void 0 ? LogLevel.Info : _b,\n        _c = options.piiLoggingEnabled,\n        piiLoggingEnabled = _c === void 0 ? false : _c;\n    this._localCallback = localCallback;\n    this._correlationId = correlationId;\n    this._level = level;\n    this._piiLoggingEnabled = piiLoggingEnabled;\n  }\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.logMessage = function (logLevel, logMessage, containsPii) {\n    if (logLevel > this._level || !this._piiLoggingEnabled && containsPii) {\n      return;\n    }\n\n    var timestamp = new Date().toUTCString();\n    var log;\n\n    if (!Utils_1.Utils.isEmpty(this._correlationId)) {\n      log = timestamp + \":\" + this._correlationId + \"-\" + Utils_1.Utils.getLibraryVersion() + \"-\" + LogLevel[logLevel] + \" \" + logMessage;\n    } else {\n      log = timestamp + \":\" + Utils_1.Utils.getLibraryVersion() + \"-\" + LogLevel[logLevel] + \" \" + logMessage;\n    }\n\n    this.executeCallback(logLevel, log, containsPii);\n  };\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.executeCallback = function (level, message, containsPii) {\n    if (this._localCallback) {\n      this._localCallback(level, message, containsPii);\n    }\n  };\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.error = function (message) {\n    this.logMessage(LogLevel.Error, message, false);\n  };\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.errorPii = function (message) {\n    this.logMessage(LogLevel.Error, message, true);\n  };\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.warning = function (message) {\n    this.logMessage(LogLevel.Warning, message, false);\n  };\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.warningPii = function (message) {\n    this.logMessage(LogLevel.Warning, message, true);\n  };\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.info = function (message) {\n    this.logMessage(LogLevel.Info, message, false);\n  };\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.infoPii = function (message) {\n    this.logMessage(LogLevel.Info, message, true);\n  };\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.verbose = function (message) {\n    this.logMessage(LogLevel.Verbose, message, false);\n  };\n  /*\r\n   * @hidden\r\n   */\n\n\n  Logger.prototype.verbosePii = function (message) {\n    this.logMessage(LogLevel.Verbose, message, true);\n  };\n\n  return Logger;\n}();\n\nexports.Logger = Logger;","map":{"version":3,"sources":["../src/Logger.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\n/**\r\n * Copyright (c) Microsoft Corporation\r\n *  All Rights Reserved\r\n *  MIT License\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the 'Software'), to deal in the Software\r\n * without restriction, including without limitation the rights to use, copy, modify,\r\n * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to the following\r\n * conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS\r\n * OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT\r\n * OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = require(\"./Utils\");\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"Error\"] = 0] = \"Error\";\r\n    LogLevel[LogLevel[\"Warning\"] = 1] = \"Warning\";\r\n    LogLevel[LogLevel[\"Info\"] = 2] = \"Info\";\r\n    LogLevel[LogLevel[\"Verbose\"] = 3] = \"Verbose\";\r\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\r\nvar Logger = /** @class */ (function () {\r\n    function Logger(localCallback, options) {\r\n        if (options === void 0) { options = {}; }\r\n        /*\r\n         * @hidden\r\n         */\r\n        this._level = LogLevel.Info;\r\n        var _a = options.correlationId, correlationId = _a === void 0 ? \"\" : _a, _b = options.level, level = _b === void 0 ? LogLevel.Info : _b, _c = options.piiLoggingEnabled, piiLoggingEnabled = _c === void 0 ? false : _c;\r\n        this._localCallback = localCallback;\r\n        this._correlationId = correlationId;\r\n        this._level = level;\r\n        this._piiLoggingEnabled = piiLoggingEnabled;\r\n    }\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.logMessage = function (logLevel, logMessage, containsPii) {\r\n        if ((logLevel > this._level) || (!this._piiLoggingEnabled && containsPii)) {\r\n            return;\r\n        }\r\n        var timestamp = new Date().toUTCString();\r\n        var log;\r\n        if (!Utils_1.Utils.isEmpty(this._correlationId)) {\r\n            log = timestamp + \":\" + this._correlationId + \"-\" + Utils_1.Utils.getLibraryVersion() + \"-\" + LogLevel[logLevel] + \" \" + logMessage;\r\n        }\r\n        else {\r\n            log = timestamp + \":\" + Utils_1.Utils.getLibraryVersion() + \"-\" + LogLevel[logLevel] + \" \" + logMessage;\r\n        }\r\n        this.executeCallback(logLevel, log, containsPii);\r\n    };\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.executeCallback = function (level, message, containsPii) {\r\n        if (this._localCallback) {\r\n            this._localCallback(level, message, containsPii);\r\n        }\r\n    };\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.error = function (message) {\r\n        this.logMessage(LogLevel.Error, message, false);\r\n    };\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.errorPii = function (message) {\r\n        this.logMessage(LogLevel.Error, message, true);\r\n    };\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.warning = function (message) {\r\n        this.logMessage(LogLevel.Warning, message, false);\r\n    };\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.warningPii = function (message) {\r\n        this.logMessage(LogLevel.Warning, message, true);\r\n    };\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.info = function (message) {\r\n        this.logMessage(LogLevel.Info, message, false);\r\n    };\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.infoPii = function (message) {\r\n        this.logMessage(LogLevel.Info, message, true);\r\n    };\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.verbose = function (message) {\r\n        this.logMessage(LogLevel.Verbose, message, false);\r\n    };\r\n    /*\r\n     * @hidden\r\n     */\r\n    Logger.prototype.verbosePii = function (message) {\r\n        this.logMessage(LogLevel.Verbose, message, true);\r\n    };\r\n    return Logger;\r\n}());\r\nexports.Logger = Logger;\r\n//# sourceMappingURL=Logger.js.map"]},"metadata":{},"sourceType":"script"}